# -----------------------------
# mini-crm-core environment
# -----------------------------
# Local dev example:
# DATABASE_URL="postgresql://postgres:password@localhost:5432/mini_crm_core?schema=public"
# Render: use the Internal Database URL from your Render Postgres.

DATABASE_URL="postgresql://USER:PASSWORD@HOST:5432/DB?schema=public"
PORT=4000

# JWT
JWT_SECRET="change-me"
JWT_EXPIRES_IN="7d"

# CORS allowlist for admin/web origins (comma-separated)
# Example: CORS_ORIGINS="http://localhost:5173,https://admin.example.com"
CORS_ORIGINS="http://localhost:5173,http://127.0.0.1:5173"

# Cache TTL for DB-backed allowed-origins (ms)
ORIGINS_CACHE_TTL_MS=300000

# Public endpoints
# If you embed widgets into real sites, Origin MUST be present.
# For local file:// or tooling, you may temporarily allow missing Origin:
PUBLIC_ALLOW_NO_ORIGIN=0

# Rate limits (per projectSlug + IP, per minute)
PUBLIC_CONFIG_RL_MAX=60
PUBLIC_SUBMIT_RL_MAX=10

# Logs: set to 1 to print Zod validation details for public submit
LOG_PUBLIC_VALIDATION=0

# SMTP (optional). If empty, notifications stay disabled.
SMTP_HOST=""
SMTP_PORT=2525
SMTP_USER=""
SMTP_PASSWORD=""
SMTP_FROM="Mini CRM <no-reply@mini-crm.local>"
